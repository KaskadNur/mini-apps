<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Telegram App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .app-container {
            width: 100%;
            max-width: 400px;
            text-align: center;
            color: white;
        }
        
        h1 {
            margin-bottom: 30px;
            font-size: 24px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .hello-btn {
            background: #0088cc;
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 20px;
            border-radius: 25px;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            font-weight: 600;
        }
        
        .hello-btn:hover {
            background: #0077b3;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .hello-btn:active {
            transform: translateY(0);
        }
        
        .response {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            font-size: 18px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .user-info {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .loading {
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <h1>üöÄ –ú–æ–µ Telegram –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h1>
        
        <div class="user-info" id="userInfo">
            –ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...
        </div>
        
        <button class="hello-btn" onclick="sayHello()">
            üëã –ü–†–ò–í–ï–¢
        </button>
        
        <div class="response" id="response">
            –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        tg.ready();
        tg.expand(); // –†–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
        const user = tg.initDataUnsafe.user;
        const userInfoElement = document.getElementById('userInfo');
        
        if (user) {
            userInfoElement.innerHTML = `
                üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${user.first_name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}<br>
                üì± ID: ${user.id}
            `;
        } else {
            userInfoElement.innerHTML = 'üë§ –ì–æ—Å—Ç—å (–æ—Ç–∫—Ä—ã—Ç–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)';
        }
        
        let clickCount = 0;
        
        function sayHello() {
            clickCount++;
            const responseElement = document.getElementById('response');
            responseElement.innerHTML = `–ü—Ä–∏–≤–µ—Ç! üòä<br><small>–ù–∞–∂–∞—Ç–æ: ${clickCount} —Ä–∞–∑</small>`;
            
            // –í–∏–±—Ä–∞—Ü–∏—è
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞
            tg.sendData(JSON.stringify({
                action: 'hello_button_click',
                count: clickCount,
                timestamp: new Date().toISOString(),
                user_id: user ? user.id : 'unknown'
            }));
        }
        
        console.log('Telegram Web App –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
    </script>
</body>
</html>
